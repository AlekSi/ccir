// gcc gen.c && ./a.out > __ctype_b_loc_tab.c

#include <stdio.h>
#include <ctype.h>

int main()
{
	printf("// Code generated by gen.c. DO NOT EDIT.\n\n");
	printf("unsigned short __ctype_b_table[] = {\n");
	const unsigned short **t = __ctype_b_loc();
	for (int i = -128; i < 256; i++) {
		int f = 0;
		short v = (*t)[i];
		if (v & _ISupper) {
			printf("_ISupper");
			f = 1;
		}
		if (v & _ISlower) {
			if (f) {
				printf("|");
			}
			printf("_ISlower");
			f = 1;
		}
		if (v & _ISalpha) {
			if (f) {
				printf("|");
			}
			printf("_ISalpha");
			f = 1;
		}
		if (v & _ISdigit) {
			if (f) {
				printf("|");
			}
			printf("_ISdigit");
			f = 1;
		}
		if (v & _ISxdigit) {
			if (f) {
				printf("|");
			}
			printf("_ISxdigit");
			f = 1;
		}
		if (v & _ISspace) {
			if (f) {
				printf("|");
			}
			printf("_ISspace");
			f = 1;
		}
		if (v & _ISprint) {
			if (f) {
				printf("|");
			}
			printf("_ISprint");
			f = 1;
		}
		if (v & _ISgraph) {
			if (f) {
				printf("|");
			}
			printf("_ISgraph");
			f = 1;
		}
		if (v & _ISblank) {
			if (f) {
				printf("|");
			}
			printf("_ISblank");
			f = 1;
		}
		if (v & _IScntrl) {
			if (f) {
				printf("|");
			}
			printf("_IScntrl");
			f = 1;
		}
		if (v & _ISpunct) {
			if (f) {
				printf("|");
			}
			printf("_ISpunct");
			f = 1;
		}
		if (v & _ISalnum) {
			if (f) {
				printf("|");
			}
			printf("_ISalnum");
		}
		if (!f) {
			printf("0");
		}
		printf(", // ");
		int j = i;
		if (j < 0) {
			j = -j;
			printf("-");
		}
		printf("0x%x", j);
		if (isprint(i)) {
			printf("\t'%c'", i);
		}
		printf("\n");
	}
	printf("}\n;");
}
